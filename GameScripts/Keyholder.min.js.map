{"version":3,"sources":["keyholder.js"],"names":["Keyholder","Game","gameCanvas","gameCanvasContext","playerImage","tilesImage","map","editorCanvas","editorCanvasContext","tileUnderMouse","mapNameTextArea","canvasHeightInTiles","imagesLoadingCompleted","tileWidth","tileHeight","tileOffset","scale","playerX","playerY","keysInPossesion","movementDisallowed","tilePickerScale","colorPickerSize","currentEditorBrush","currentColorID","defaultTileType","defaultColorID","dragging","nonDraggableTileTypes","setStartPositionMode","gameLoop","currentTime","window","requestAnimationFrame","drawTile","x","y","tileXInSpritesheet","tileYInSpritesheet","destinationX","destinationY","tileBitmapXCoord","tileBitmapYCoord","drawImage","clearRect","width","height","fillRect","mapObject","mapObjectOffset","mapObjectType","type","getTileType","offset","colorOffsets","getTileColor","undefined","getKey","getGate","getChest","colorID","editorMode","startY","startX","drawTiles","currentColorOffset","tilePickerWidth","tilePickerHeight","drawEditorCanvas","lastX","i","length","colorOffset","drawKeys","render","Map","this","tiles","keys","chests","gates","loadDefaultValues","Array","saveToJson","JSON","stringify","loadFromJson","newMap","setTile","color","checkBounds","index","getTileIndex","removeMapObject","array","find","obj","element","indexOf","splice","remove","removeObjectsFromTile","isTileBlocking","isExit","approachDirection","isTypeStairs","addGate","addMapObject","addKey","addChest","push","getMapObject","isGateOfColor","gate","isGateWithMatchingKey","keyColorID","setStartPosition","isTileStartingPoint","isTypeGate","isTypeChest","isTypeKey","isTypeFloor","checkTileForMovement","$","on","e","document","getElementById","click","modal","chest","checkTileForChestMovement","key","contains","SaveMap","DisplayMessage","message","html","request","ajax","data","mapString","name","value","currentMapID","mapID","url","dataType","async","done","textStatus","jqXHR","newMapID","parseInt","console","log","fail","errorThrown","paint","ColorOffset","onload","images","imagesToLoad","directory","loadedImagesCount","totalImagesCount","image","Image","onerror","src","loadImages","getContext","disableSmoothing","cells","pickerCells","getElementsByClassName","cell","style","setColorPickerSize","mapName","addEventListener","event","pos","getMousePos","tileX","Math","floor","tileY","updateTileUnderMouse","chosenTileX","chosenTileY","pickerElements","colorName","id","pickerEvent","colorIDs","newColorID","addColorPickerEvents","addEditorEvents","mapJsonObject","code","keyCode","blue","darkGreen","green","lightGreen","mudGreen","orange","darkOrange","rust","red","lightRed","pink","purple","darkBlue","sand","grey","darkGrey","canvas","rect","getBoundingClientRect","clientX","left","right","clientY","top","bottom","canvasContext","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled"],"mappings":"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"}